* Z:\home\hoogendijkta\Documents\hobby\speeduino\KicadPCB\Peak-And-hold-Driver\LTspice simulations\PWM low-z injector.asc
L1 VBAT N008 3.5m Ipk=10A Rser=2
V1 VBAT 0 PULSE(14.4 10 15m)
R2 N008 P001 470
V2 PWM 0 PULSE(0 3.3 0 100n 100n 50u 250u 4000)
V3 InjPulse 0 PULSE(0 3.3 5m 10n 10n 3.0m 20m 4)
D1 N006 VBAT RBR3MM60B
R4 N016 N021 100
R5 N018 0 0.1
XU1 N018 N013 5V 0 N015 LT1018
V6 5V 0 5
A3 InjPulse 0 0 0 0 P002 0 0 BUF Vhigh=3.3V
A4 N015 P002 0 0 0 N020 0 0 SRFLOP Vhigh=3.3V
A1 0 0 InjPulse 0 N020 0 N023 0 AND Vhigh=3.3V
A2 0 N005 0 InjPulse 0 0 N024 0 AND Vhigh=3.3V
A5 N024 0 N023 0 0 0 N021 0 OR Vhigh=5V
D3 N009 0 D
R6 N009 N013 2.5k
R7 N013 0 2.5k
R8 5V N009 10k
XU2 N004 0 N010 N011 5V N005 LTC6992-2
C1 5V 0 0.1µ
R9 N010 0 470k
R10 5V N011 100k
R11 N002 N004 3.8k
R12 N004 0 1200
A6 5V 0 N015 0 N022 TEST_DC 0 0 DFLOP
A7 InjPulse 0 0 0 0 N022 0 0 BUF Vhigh=3.3V
XM1 N008 N016 N018 irll024z
D2 N016 N012 TFZ39B
D6 N008 N012 MMSD4148
A8 0 InjPulse 0 N019 0 0 N014 0 AND Vhigh=5V
A9 N021 0 0 0 0 N019 0 0 BUF Vhigh=3.3V
R1 5V N001 15k
R14 0 N001 9.1k
R15 VBAT N003 91K tol=1 pwr=0.1
R16 N003 N002 6.2k
R13 0 N011 12K
XU3 N001 N003 VBAT 0 N002 LM2904
M4 P001 N014 0 0 2N7002
M2 N006 P001 N008 N008 IRF9Z24S_L
.model D D
.lib C:\Program Files (x86)\LTC\LTspiceIV\lib\cmp\standard.dio
.model NMOS NMOS
.model PMOS PMOS
.lib C:\Program Files (x86)\LTC\LTspiceIV\lib\cmp\standard.mos
.tran 50m
.inc LM2904.lib
.inc Si2309CDS_PS Rev B.LIB
.inc irll024z.spi
.lib LTC1.lib
.lib LTC6992-2.sub
.backanno
.end
